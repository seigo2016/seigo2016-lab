---
layout: post
title: "戦車プラモデルのラジコン化"
date: 2019-10-10 10:00:00 +0900
categories: Programming
---

## はじめに
*書きかけの項目です*

今回はタミヤの1/35スケールのプラモデルをXbox Controllerから(Bluetoothで)操作したいと思います。
3年ほど前にArduinoとAndroidスマホで製作したことはあったのですが,Bluetooth接続に手間取った思い出があります。
そこで通信機能もデフォルトで備えたRaspberry Pi Zeroで製作しようと思った次第です。
## 概要
Bluetoothコントローラで操作
- コンパクトにするためにサーボモータをギヤボックスの代わりに使用
- 砲塔旋回可能
- ライト点灯可能

## 使用パーツ
### タミヤ戦車プラモデル


今回は[タミヤ 1/35 アメリカ M1A1 ビッグガンエイブラムス](https://www.tamiya.com/japan/products/35156/index.html)を使用します。

単純にこれで作りたかっただけです。買ってみて微調整すればある程度はなんとかなります。
Arduinoの時はT-34でした。
そして毎度スペースと格闘します。

### Raspberry Pi Zero WH

通信機能が有り低消費電力のRaspberry Pi Zero WHを使用しました。Wは購入制限があるので…

~~別に半田付けが苦手なわけではない~~

### リチウムイオン電池 18650 とバッテリーケース

5V電源とサーボモータを動作させるためにモバイルバッテリーを使おうと考えたのですが，入る大きさのものがなかったので中身の18650電池を使います。

### 5V昇圧モジュール

ラズパイとサーボモータx3なので合わせて2Aほど供給できればきっと問題ないでしょう。私はXL6009を使用しました。


### サーボモーター

SG90を使用しました。主砲旋回用と走行用です。

### LED
前後のライトに取り付けます。家にあった適当なものを使用しました。3mmがちょうどいいです。

### Xbox Controller

操作用です。Bluetooth対応でPygameで読み取れるなら何でもいいです。

### その他

ユニバーサルプレート・ビニル線・接着剤とか
## 手順
### 1. プラモデルの組み立て
プラモデルを組み立てます。基本説明書通り作っていいですが，サーボモーターの入る後方の部分の起動輪付近は固定せずに置いておきます。
また，LEDを設置できるように穴をあけます。

### 2. 駆動部分
サーボモーターを車体の側面に接着剤で固定します。それなりの負荷がかかるのでしっかりと固定しておきます。
また，サーボモーターに穴をあけ，六角シャフトを固定します。その六角シャフトの先には起動輪を挿しこみます。六角シャフトの長さは起動輪の位置を見ながら調整すると良いです。

### 3. LED
後部と前部のライトはいい感じに穴をあけてLEDを(気持ち)埋め込みます。
前部は開け閉めする際にケーブルが引っかかるのと困るのでジャンパーのオスメスをつかって外れるようにしておきます。
<img src="/blog/image/IMG_2599.JPG" alt="前部LED裏" title="前部LED裏" width="40%" height="40%">
<img src="/blog/image/IMG_2600.JPG" alt="前部LED表" title="前部LED表" width="40%" height="40%">
<img src="/blog/image/IMG_2601.JPG" alt="後部LED裏" title="後部LED裏" width="40%" height="40%">
<img src="/blog/image/IMG_2602.JPG" alt="後部LED表" title="後部LED表" width="40%" height="40%">

### 4. バッテリーボックス・昇圧部モジュール部分
18650電池を使用しているのでその18650の電池ボックスを出来る限り前側につめます。余り前に詰めると閉められなくなるので注意です。

### 5. 砲塔部分
タミヤのユニバーサルプレートを加工して，シャーシに固定したサーボモーターとうまく繋がるようにしました。説明しづらいので画像で…

### 6. Raspberry Pi
結構場所を取るメイン部分です。

### 7. 配線

### 8. プログラム

## 完成
<img src="/blog/image/IMG_2598.JPG" alt="下部全体図" title="下部全体図">
動作映像がこちらになります。<br>
サーボモーターの中央値がうまく取れなかったので絶えず少し動いてます。
<iframe width="560" height="315" src="https://www.youtube.com/embed/zETG8R2qTDw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## まとめ
駆動部には連続回転サーボより小さなギヤードモーターを使ったほうが安定します。<br>
(そんな気はしていましたが…)

あと砲塔回転部分はもっとスマートにしないとスペースがやばいですね。

そもそもスペースだけを気にするなら，5V必要なラズベリーパイよりarduinoが良いと思います。

ちなみに私がはじめに戦車プラモデルのラジコン化をしたときはarduinoを使いました。

